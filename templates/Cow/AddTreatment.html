{% extends "base.html" %}
{% block app_content %}


<div id="formwrapper">
    {{ wtf.quick_form(form) }}
</div>
{% endblock %}
{% block scripts %}
    {{ super() }}
    <script>

        function hideForms() {
            var input = $("#formType")[0].value;
            console.log($("#formType")[0]);
            hideAll();
            if (input == "Treatment") {
                show(["#lotNo", "#expiration", "#withdrawal", "#dosage", "#unit"]);
            } else if (input == "Weight") {
                show(["#weight"]);
            } else if (input == "Pregnancy Check") {
                show(["#pregnant"]);
            } else if (input == "Bred") {
                show(["#sire"]);
            }
        }

        function hideAll() {
            var forms = ["#lotNo", "#expiration", "#withdrawal", "#dosage", "#unit", "#pregnant", "#weight", "#sire"];
            for (var i = 0; i < forms.length; ++i) {
                $(forms[i]).parent().css("display", "none");
            }
        }

        function show(list) {
            for (var i = 0; i < list.length; ++i) {
                $(list[i]).parent().css("display", "block");
            }
        }
        $("#formType").change( function() {
            hideForms();
        });
        $(document).ready( function () {
            hideForms();
        });
1   </script>
{%- endblock scripts %}